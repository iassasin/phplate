# API

Все доступные функции находятся в классе Template

---

```php
public static function TemplateEngine::init($tplpath, $cache_enabled = true)
```

 Инициализирует шаблонизатор, задает каталог, хранящий шаблоны (файлы .html)  

- **`string $tplpath`** - путь к каталогу, содержащему шаблоны сайта
- **`boolean $cache_enabled`** - определяет, включено ли кэширование результатов компиляции шаблонов (в файлы .ctpl)
- **Возвращаемое значение**:  нет

---

```php
public function TemplateEngine::addUserFunctionHandler($f)
```

Назначает пользовательский обработчик пайп-функций

- **`function $f`** - функция вида **`function ($val, $fargs)`**
 - **`mixed $val`** - исходное значение
 - **`array $fargs`** - массив переданных пайп-функции аргументов
 - **Возвращаемое значение**:  новое значение `$val`

---

```php
public static function TemplateEngine::addGlobalVar($name, $val)
```

Добавляет новый глобальный аргумент (глобальную переменную)

- **`string $name`** - имя глобального аргумента
- **`mixed $val`** - значение глобальной переменной, передается по значению
- **Возвращаемое значение**: нет

---

```php
public static function TemplateEngine::build($tplname, $values)
```

Выполняет подстановку в аргументов в шаблон из указанного файла

- **`string $tplname`** - путь к шаблону, без расширения и базового пути (который задается функцией init)
- **`array $values`** - аргументы шаблона, могут быть чем угодно
- **Возвращаемое значение**: **`string`**, шаблон с подставленными аргументами

---

```php
public static function TemplateEngine::build_str($tplstr, $values)
```

Выполняет подстановку в аргументов в шаблон, переданный функции напрямую

- **`string $tplstr`** - код шаблона, в который подставляются аргументы, аналогично содержимому файлов шаблонов
- **`array $values`** - аргументы шаблона, могут быть чем угодно
- **Возвращаемое значение**: **`string`**, шаблон с подставленными аргументами